<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AR Web å…¼å®¹æ€§æ£€æµ‹å™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
        }
        
        h1 {
            font-size: 28px;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .subtitle {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .device-info {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 15px 20px;
            margin-bottom: 20px;
            font-size: 13px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .device-info div {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }
        
        .device-info span {
            opacity: 0.8;
        }
        
        .check-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 30px;
        }
        
        .check-item {
            background: rgba(255,255,255,0.95);
            color: #333;
            border-radius: 12px;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        
        .check-item:hover {
            transform: translateX(5px);
        }
        
        .icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }
        
        .status-yes { background: #34C759; color: white; }
        .status-no { background: #FF3B30; color: white; }
        .status-maybe { background: #FF9500; color: white; }
        .status-checking { background: #8E8E93; color: white; animation: pulse 1.5s infinite; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }
        
        .check-content {
            flex: 1;
        }
        
        .check-title {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 2px;
        }
        
        .check-desc {
            font-size: 13px;
            color: #666;
            line-height: 1.3;
        }
        
        .status-badge {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .badge-success { background: #E8F5E9; color: #2E7D32; }
        .badge-error { background: #FFEBEE; color: #C62828; }
        .badge-warning { background: #FFF3E0; color: #EF6C00; }
        
        .action-area {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .btn {
            background: #fff;
            color: #2a5298;
            border: none;
            padding: 14px 32px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: transparent;
            color: #fff;
            border: 2px solid rgba(255,255,255,0.5);
        }
        
        .summary {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.5;
            text-align: left;
            display: none;
        }
        
        .summary.show {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .score-circle {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: conic-gradient(#34C759 var(--score), rgba(255,255,255,0.3) 0);
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            position: relative;
        }
        
        .score-circle::before {
            content: '';
            position: absolute;
            width: 65px;
            height: 65px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
        }
        
        .score-text {
            position: relative;
            z-index: 1;
        }
        
        code {
            background: rgba(0,0,0,0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            opacity: 0.7;
            font-size: 12px;
        }
        
        /* ç»“æœé¢œè‰² */
        .supported { border-left: 4px solid #34C759; }
        .unsupported { border-left: 4px solid #FF3B30; }
        .partial { border-left: 4px solid #FF9500; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸ¥½ AR Web æ£€æµ‹å™¨</h1>
        <div class="subtitle">æ£€æµ‹æ‚¨çš„è®¾å¤‡æ˜¯å¦æ”¯æŒå¢å¼ºç°å®ç½‘é¡µåº”ç”¨</div>
    </header>
    
    <div class="device-info">
        <div><span>è®¾å¤‡å‹å·</span> <strong id="deviceModel">æ£€æµ‹ä¸­...</strong></div>
        <div><span>æ“ä½œç³»ç»Ÿ</span> <strong id="osVersion">æ£€æµ‹ä¸­...</strong></div>
        <div><span>æµè§ˆå™¨</span> <strong id="browserInfo">æ£€æµ‹ä¸­...</strong></div>
        <div><span>ç”¨æˆ·ä»£ç†</span> <code id="userAgent" style="font-size:10px;max-width:200px;overflow:hidden;text-overflow:ellipsis;">-</code></div>
    </div>
    
    <div class="check-list" id="checkList">
        <!-- æ£€æµ‹é¡¹å°†é€šè¿‡ JS ç”Ÿæˆ -->
    </div>
    
    <div class="action-area">
        <div class="score-circle" id="scoreCircle" style="display:none;">
            <span class="score-text" id="scoreText">0/8</span>
        </div>
        
        <div id="actionButtons">
            <button class="btn" onclick="startDetection()">ğŸ” å¼€å§‹å…¨é¢æ£€æµ‹</button>
            <button class="btn btn-secondary" onclick="copyReport()">ğŸ“‹ å¤åˆ¶æ£€æµ‹æŠ¥å‘Š</button>
        </div>
        
        <div class="summary" id="summaryBox">
            <strong>ğŸ“Š æ£€æµ‹ç»“è®ºï¼š</strong>
            <p id="summaryText">ç­‰å¾…æ£€æµ‹...</p>
        </div>
    </div>
    
    <div class="footer">
        <p>æ”¯æŒæ ‡å‡†ï¼šWebXR 1.0 â€¢ WebGL 2.0 â€¢ MediaPipe â€¢ iOS AR Quick Look</p>
    </div>
</div>

<script>
    // æ£€æµ‹é¡¹ç›®é…ç½®
    const checks = [
        {
            id: 'webxr',
            name: 'WebXR Device API',
            icon: 'ğŸ¥½',
            desc: 'æ²‰æµ¸å¼ARä¼šè¯æ”¯æŒï¼ˆiOS 13+ Safariï¼‰',
            critical: true
        },
        {
            id: 'hitTest',
            name: 'WebXR Hit Test',
            icon: 'ğŸ¯',
            desc: 'å¹³é¢æ£€æµ‹ä¸å°„çº¿æŠ•å°„èƒ½åŠ›',
            critical: true
        },
        {
            id: 'domOverlay',
            name: 'WebXR DOM Overlay',
            icon: 'ğŸ¨',
            desc: 'ARåœºæ™¯ä¸­å åŠ HTML UIå…ƒç´ ',
            critical: false
        },
        {
            id: 'webgl2',
            name: 'WebGL 2.0',
            icon: 'ğŸ®',
            desc: '3Då›¾å½¢æ¸²æŸ“åŸºç¡€èƒ½åŠ›',
            critical: true
        },
        {
            id: 'camera',
            name: 'Camera Access',
            icon: 'ğŸ“·',
            desc: 'getUserMedia æ‘„åƒå¤´è®¿é—®æƒé™',
            critical: true
        },
        {
            id: 'motion',
            name: 'Device Motion',
            icon: 'ğŸ“±',
            desc: 'é™€èºä»ªä¸åŠ é€Ÿåº¦è®¡ï¼ˆDeviceOrientationï¼‰',
            critical: false
        },
        {
            id: 'webassembly',
            name: 'WebAssembly',
            icon: 'âš¡',
            desc: 'é«˜æ€§èƒ½è®¡ç®—ï¼ˆMediaPipe/TensorFlow.jså¿…éœ€ï¼‰',
            critical: true
        },
        {
            id: 'simd',
            name: 'SIMD Support',
            icon: 'ğŸš€',
            desc: 'å•æŒ‡ä»¤å¤šæ•°æ®æµï¼ˆåŠ é€ŸAIè®¡ç®—ï¼‰',
            critical: false
        }
    ];
    
    let detectionResults = {};
    let isDetecting = false;
    
    // åˆå§‹åŒ–æ˜¾ç¤º
    function initDisplay() {
        const list = document.getElementById('checkList');
        list.innerHTML = '';
        
        checks.forEach(check => {
            const item = document.createElement('div');
            item.className = 'check-item';
            item.id = `item-${check.id}`;
            item.innerHTML = `
                <div class="icon status-checking" id="icon-${check.id}">â³</div>
                <div class="check-content">
                    <div class="check-title">${check.name}</div>
                    <div class="check-desc">${check.desc} ${check.critical ? '<span style="color:#FF3B30">[å¿…éœ€]</span>' : ''}</div>
                </div>
                <div class="status-badge badge-warning" id="badge-${check.id}">å¾…æ£€æµ‹</div>
            `;
            list.appendChild(item);
        });
        
        // å¡«å……è®¾å¤‡ä¿¡æ¯
        const ua = navigator.userAgent;
        document.getElementById('userAgent').textContent = ua;
        
        // ç®€å•è§£æè®¾å¤‡ä¿¡æ¯
        let device = 'æœªçŸ¥è®¾å¤‡';
        let os = 'æœªçŸ¥ç³»ç»Ÿ';
        
        if (/iPhone|iPad|iPod/.test(ua)) {
            const match = ua.match(/(iPhone|iPad|iPod).+OS (\d+_\d+)/);
            device = match ? match[1] : 'iOSè®¾å¤‡';
            os = match ? `iOS ${match[2].replace('_', '.')}` : 'iOS';
        } else if (/Android/.test(ua)) {
            const match = ua.match(/Android (\d+\.\d+)/);
            device = 'Androidè®¾å¤‡';
            os = match ? `Android ${match[1]}` : 'Android';
        }
        
        let browser = 'æœªçŸ¥æµè§ˆå™¨';
        if (/Safari/.test(ua) && /Chrome/.test(ua)) browser = 'Chrome';
        else if (/Safari/.test(ua)) browser = 'Safari';
        else if (/Firefox/.test(ua)) browser = 'Firefox';
        else if (/Edg/.test(ua)) browser = 'Edge';
        
        document.getElementById('deviceModel').textContent = device;
        document.getElementById('osVersion').textContent = os;
        document.getElementById('browserInfo').textContent = browser;
    }
    
    // æ›´æ–°å•é¡¹çŠ¶æ€
    function updateStatus(id, status, message) {
        const icon = document.getElementById(`icon-${id}`);
        const badge = document.getElementById(`badge-${id}`);
        const item = document.getElementById(`item-${id}`);
        
        detectionResults[id] = { status, message };
        
        icon.className = 'icon';
        item.className = 'check-item';
        
        if (status === 'yes') {
            icon.classList.add('status-yes');
            icon.textContent = 'âœ“';
            badge.className = 'status-badge badge-success';
            badge.textContent = 'æ”¯æŒ';
            item.classList.add('supported');
        } else if (status === 'no') {
            icon.classList.add('status-no');
            icon.textContent = 'âœ•';
            badge.className = 'status-badge badge-error';
            badge.textContent = 'ä¸æ”¯æŒ';
            item.classList.add('unsupported');
        } else if (status === 'maybe') {
            icon.classList.add('status-maybe');
            icon.textContent = '?';
            badge.className = 'status-badge badge-warning';
            badge.textContent = 'éƒ¨åˆ†';
            item.classList.add('partial');
        }
    }
    
    // æ£€æµ‹é€»è¾‘
    async function startDetection() {
        if (isDetecting) return;
        isDetecting = true;
        
        document.getElementById('actionButtons').style.display = 'none';
        initDisplay();
        
        // 1. WebXR åŸºç¡€æ£€æµ‹
        try {
            if ('xr' in navigator) {
                const supported = await navigator.xr.isSessionSupported('immersive-ar');
                updateStatus('webxr', supported ? 'yes' : 'no', 
                    supported ? 'æ”¯æŒæ²‰æµ¸å¼AR' : 'APIå­˜åœ¨ä½†ARä¼šè¯ä¸æ”¯æŒ');
            } else {
                updateStatus('webxr', 'no', 'æµè§ˆå™¨ä¸æ”¯æŒWebXR');
            }
        } catch (e) {
            updateStatus('webxr', 'no', e.message);
        }
        
        // 2. Hit Testï¼ˆå¿…é¡»åœ¨XRä¼šè¯ä¸­æ‰èƒ½çœŸæ­£æ£€æµ‹ï¼Œè¿™é‡Œæ£€æµ‹APIå­˜åœ¨æ€§ï¼‰
        setTimeout(() => {
            if ('XRHitTestSource' in window || 'XRTransientInputHitTestSource' in window) {
                updateStatus('hitTest', 'yes', 'Hit Test API å¯ç”¨');
            } else if ('xr' in navigator) {
                updateStatus('hitTest', 'maybe', 'éœ€è¿›å…¥ARä¼šè¯åæ‰èƒ½ç¡®è®¤');
            } else {
                updateStatus('hitTest', 'no', 'WebXRä¸æ”¯æŒ');
            }
        }, 100);
        
        // 3. DOM Overlay
        setTimeout(() => {
            if ('XRDOMOverlayState' in window) {
                updateStatus('domOverlay', 'yes', 'DOM Overlay æ”¯æŒ');
            } else {
                updateStatus('domOverlay', 'maybe', 'æ ‡å‡†æ¨¡å¼å¯èƒ½ä»æ”¯æŒ');
            }
        }, 200);
        
        // 4. WebGL 2.0
        setTimeout(() => {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl2');
            if (gl) {
                // æ£€æŸ¥XRå…¼å®¹æ€§
                const xrCompatible = gl.getContextAttributes().xrCompatible;
                updateStatus('webgl2', 'yes', 
                    xrCompatible ? 'WebGL2 + XRå…¼å®¹' : 'WebGL2å¯ç”¨');
            } else {
                updateStatus('webgl2', 'no', 'æµè§ˆå™¨ä¸æ”¯æŒWebGL 2.0');
            }
        }, 300);
        
        // 5. Camera Access
        setTimeout(async () => {
            try {
                if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                    updateStatus('camera', 'no', 'APIä¸å­˜åœ¨');
                } else {
                    // å®é™…è¯·æ±‚æƒé™æµ‹è¯•
                    const stream = await navigator.mediaDevices.getUserMedia({ video: true });
                    stream.getTracks().forEach(track => track.stop());
                    updateStatus('camera', 'yes', 'æ‘„åƒå¤´è®¿é—®æƒé™æ­£å¸¸');
                }
            } catch (e) {
                updateStatus('camera', 'no', e.name === 'NotAllowedError' ? 'ç”¨æˆ·æ‹’ç»æƒé™' : e.message);
            }
        }, 400);
        
        // 6. Device Motion
        setTimeout(() => {
            if ('DeviceOrientationEvent' in window && 'DeviceMotionEvent' in window) {
                // iOS 13+ éœ€è¦æƒé™è¯·æ±‚
                if (typeof DeviceOrientationEvent.requestPermission === 'function') {
                    updateStatus('motion', 'maybe', 'éœ€è¦ç”¨æˆ·æˆæƒï¼ˆiOS 13+ç‰¹æ€§ï¼‰');
                } else {
                    updateStatus('motion', 'yes', 'è®¾å¤‡æ–¹å‘/è¿åŠ¨ä¼ æ„Ÿå™¨å¯ç”¨');
                }
            } else {
                updateStatus('motion', 'no', 'ä¸æ”¯æŒè®¾å¤‡è¿åŠ¨API');
            }
        }, 500);
        
        // 7. WebAssembly
        setTimeout(() => {
            if (typeof WebAssembly === 'object' && 
                typeof WebAssembly.instantiate === 'function') {
                updateStatus('webassembly', 'yes', 'WebAssembly è¿è¡Œç¯å¢ƒæ­£å¸¸');
            } else {
                updateStatus('webassembly', 'no', 'æµè§ˆå™¨ä¸æ”¯æŒWASM');
            }
        }, 600);
        
        // 8. SIMD (éœ€è¦å°è¯•å®ä¾‹åŒ–å¸¦SIMDçš„WASMæ¨¡å—)
        setTimeout(async () => {
            try {
                // ç®€å•çš„SIMDæ£€æµ‹ï¼šå°è¯•ç¼–è¯‘ä¸€ä¸ªåŒ…å«SIMDæŒ‡ä»¤çš„WASMå­—èŠ‚ç 
                const simdBytes = new Uint8Array([
                    0x00, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00,
                    0x01, 0x05, 0x01, 0x60, 0x00, 0x00, 0x03, 0x02,
                    0x01, 0x00, 0x0a, 0x0a, 0x01, 0x08, 0x00, 0x41,
                    0x00, 0xfd, 0x0f, 0x1a, 0x0b
                ]);
                await WebAssembly.compile(simdBytes);
                updateStatus('simd', 'yes', 'SIMD128 æŒ‡ä»¤é›†æ”¯æŒ');
            } catch (e) {
                updateStatus('simd', 'no', 'ä¸æ”¯æŒSIMDï¼ˆå¯èƒ½å½±å“AIæ€§èƒ½ï¼‰');
            }
        }, 700);
        
        // å®Œæˆæ£€æµ‹åç”ŸæˆæŠ¥å‘Š
        setTimeout(() => {
            generateSummary();
            isDetecting = false;
            document.getElementById('actionButtons').style.display = 'block';
        }, 1500);
    }
    
    // ç”Ÿæˆæ€»ç»“
    function generateSummary() {
        const criticalChecks = checks.filter(c => c.critical);
        const passedCritical = criticalChecks.filter(c => detectionResults[c.id]?.status === 'yes').length;
        const totalScore = Object.values(detectionResults).filter(r => r.status === 'yes').length;
        
        const scoreCircle = document.getElementById('scoreCircle');
        const scoreText = document.getElementById('scoreText');
        const summaryBox = document.getElementById('summaryBox');
        const summaryText = document.getElementById('summaryText');
        
        scoreCircle.style.display = 'flex';
        scoreText.textContent = `${totalScore}/${checks.length}`;
        scoreCircle.style.setProperty('--score', `${(totalScore/checks.length)*360}deg`);
        
        let conclusion = '';
        if (passedCritical === criticalChecks.length) {
            conclusion = 'âœ… <strong>å®Œå…¨å…¼å®¹</strong>ï¼šæ‚¨çš„è®¾å¤‡æ”¯æŒæ‰€æœ‰æ ¸å¿ƒARæŠ€æœ¯ï¼Œå¯ä»¥è¿è¡Œå®Œæ•´çš„WebXR ARåº”ç”¨ï¼ˆåŒ…æ‹¬å¹³é¢æ£€æµ‹ã€6DoFè¿½è¸ªç­‰ï¼‰ã€‚';
            scoreCircle.style.background = `conic-gradient(#34C759 ${(totalScore/checks.length)*360}deg, rgba(255,255,255,0.3) 0)`;
        } else if (passedCritical >= criticalChecks.length - 1) {
            conclusion = 'âš ï¸ <strong>åŸºæœ¬å…¼å®¹</strong>ï¼šç¼ºå°‘éƒ¨åˆ†éæ ¸å¿ƒåŠŸèƒ½ï¼Œä½†å¯ä»¥ä½¿ç”¨åŸºäºæ‘„åƒå¤´çš„ARæ–¹æ¡ˆï¼ˆå¦‚8th Wallã€AR.jsï¼‰ã€‚';
            scoreCircle.style.background = `conic-gradient(#FF9500 ${(totalScore/checks.length)*360}deg, rgba(255,255,255,0.3) 0)`;
        } else {
            conclusion = 'âŒ <strong>ä¸å…¼å®¹</strong>ï¼šç¼ºå°‘å…³é”®çš„WebXRæˆ–WebGLæ”¯æŒã€‚å»ºè®®ä½¿ç”¨åŸç”ŸAppä½“éªŒARåŠŸèƒ½ã€‚';
            scoreCircle.style.background = `conic-gradient(#FF3B30 ${(totalScore/checks.length)*360}deg, rgba(255,255,255,0.3) 0)`;
        }
        
        // æ·»åŠ å…·ä½“å»ºè®®
        if (detectionResults.webxr?.status === 'no') {
            conclusion += '<br><br>ğŸ’¡ <strong>å»ºè®®</strong>ï¼š';
            if (/iPhone|iPad/.test(navigator.userAgent)) {
                conclusion += 'iOSè¯·ä½¿ç”¨Safariï¼ˆiOS 13+ï¼‰ï¼Œå¹¶ç¡®ä¿è®¾ç½®â†’Safariâ†’é«˜çº§â†’Experimental Featuresä¸­å¯ç”¨äº†WebXRç›¸å…³é€‰é¡¹ã€‚';
            } else {
                conclusion += 'è¯·ä½¿ç”¨æœ€æ–°ç‰ˆChromeæˆ–Edgeæµè§ˆå™¨è®¿é—®ã€‚';
            }
        }
        
        summaryText.innerHTML = conclusion;
        summaryBox.classList.add('show');
    }
    
    // å¤åˆ¶æŠ¥å‘Š
    function copyReport() {
        const ua = navigator.userAgent;
        const lines = ['ğŸ“± AR Web å…¼å®¹æ€§æ£€æµ‹æŠ¥å‘Š', 'â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•', ''];
        
        checks.forEach(check => {
            const result = detectionResults[check.id];
            const status = result ? (result.status === 'yes' ? 'âœ…' : result.status === 'no' ? 'âŒ' : 'âš ï¸') : 'â³';
            lines.push(`${status} ${check.name}: ${result?.message || 'æœªæ£€æµ‹'}`);
        });
        
        lines.push('');
        lines.push(`è®¾å¤‡: ${document.getElementById('deviceModel').textContent}`);
        lines.push(`ç³»ç»Ÿ: ${document.getElementById('osVersion').textContent}`);
        lines.push(`æµè§ˆå™¨: ${document.getElementById('browserInfo').textContent}`);
        lines.push(`UA: ${ua}`);
        
        const text = lines.join('\n');
        
        if (navigator.clipboard) {
            navigator.clipboard.writeText(text).then(() => {
                alert('æ£€æµ‹æŠ¥å‘Šå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
            });
        } else {
            // é™çº§æ–¹æ¡ˆ
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('æ£€æµ‹æŠ¥å‘Šå·²å¤åˆ¶ï¼');
        }
    }
    
    // é¡µé¢åŠ è½½
    window.onload = initDisplay;
</script>

</body>
</html>
